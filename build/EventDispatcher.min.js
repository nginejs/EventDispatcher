(function(){var t,e,n=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1};t=function(){function t(t,e,n){this.target=t,this.type=e,this.data=n,this.propagationStopped=!1}return t.prototype.stopPropagation=function(){return this.propagationStopped=!0},t}(),e=function(){function e(){this.listeners={}}return e.global=new e,e.prototype.on=function(t,e){var r;if(null==e&&(e=void 0),!t)throw new TypeError("Listener cannot be event type");if(!e)throw new TypeError("Listener cannot be undefined");return r=this.listeners[t]||[],this.listeners[t]=r,n.call(r,e)>=0?!1:(r.push(e),!0)},e.prototype.off=function(t,e){var n,r;if(null==e&&(e=void 0),!t)throw new TypeError("Listener cannot be event type");return(r=this.listeners[t])?e?(n=r.indexOf(e),-1===n?!1:(r.splice(n,1),!0)):(r.splice(0,r.length),!0):!1},e.prototype.trigger=function(e,n){var r,i,o,s,p;if(null==n&&(n=void 0),!e)throw new TypeError("Listener cannot be event type");if(p=this.listeners[e],!p)return!1;for(r=new t(this,e,n),i=0,o=p.length;o>i;i++)(s=p[i])(r);return p.length},e.prototype.hasListener=function(t,e){var r;return null==e&&(e=void 0),r=this.listeners[t],r?e?n.call(r,e)>=0:!0:!1},e}(),"undefined"==typeof module?window.EventDispatcher=e:module.exports=e}).call(this);